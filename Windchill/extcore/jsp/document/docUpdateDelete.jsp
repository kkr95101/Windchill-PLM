<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>

<script type="text/javascript" src="/Windchill/extcore/js/jquery/jquery-1.11.1.min.js"></script>
<script>
		function submitDoc(){
			let submit = document.frm 	 //document의 form이름을 가지고 form을 가지고옴
			submit.method = "post";		 //form에다가 쓰는걸 여기서 제어할수도 있음
			submit.action = "/Windchill/servlet/dgt/doc/docUpdate"; //form에다가 쓰는걸 여기서 제어할수도 있음
			
			let name = $("#name").val();
			let description = $("#description").val();
			let userName = $("#userName").val();
			let userAge = $("#userAge").val();
			let userSex = $("#userSex").val();
			let userOrg = $("#userOrg").val();
			
			console.log(`${name}, ${description}, ${userName}, ${userAge}`);
			
			if(name == null || name == ""){
				alert("제목을 입력하세요");
				frm.name.focus();
				return false; // 폼 제출 방지
			}if(description == null || description == ""){
				alert("내용을 입력하세요");
				frm.description.focus();
				 return false; // 폼 제출 방지
			}if(userName == null || userName == ""){
				alert("회원이름을 입력하세요");
				frm.userName.focus();
				 return false; // 폼 제출 방지
			}if(userAge == null || userAge == ""){
				alert("회원나이을 입력하세요");
				frm.userAge.focus();
				 return false; // 폼 제출 방지
			}if(userSex == null || userSex == ""){
				alert("회원성별을 입력하세요");
				frm.userSex.focus();
				 return false; // 폼 제출 방지
			}if(userOrg == null || userOrg == ""){
				alert("회원조직을 입력하세요");
				frm.userOrg.focus();
				 return false; // 폼 제출 방지
			}
			submit.submit();
			
		}	
		function deleteDoc(){
			let submit = document.frm 	 //document의 form이름을 가지고 form을 가지고옴
			submit.method = "post";		 //form에다가 쓰는걸 여기서 제어할수도 있음
			submit.action = "/Windchill/servlet/dgt/doc/docDelete"; //form에다가 쓰는걸 여기서 제어할수도 있음
			submit.submit();
			
		}	
</script>
</head>
<body>
	<form name = "frm" onSubmit="submit()" id="frm">
				<input type = "hidden" name = "oid" id="oid" value="${doc.oid}"> <!--oid hidden  -->
		문서제목 : <input type = "text" name = "name" id="name" value="${doc.name}">
		내용	: 	<input type = "text" name = "description" id="description" value="${doc.description}">
		회원이름 : <input type = "text" name = "userName" id="userName" value="${doc.userName}">
		회원나이 : <input type = "text" name = "userAge" id="userAge" value="${doc.userAge}">
		회원성별 : <input type = "text" name = "userSex" id="userSex" value="${doc.userSex}">
		회원조직 : <input type = "text" name = "userOrg" id="userOrg" value="${doc.userOrg}">
		<input type="button" value="문서수정" onclick="submitDoc()">
		<input type="button" value="문서삭제" onclick="deleteDoc()">
	</form>

</body>
</html>